Options -MultiViews
DirectoryIndex index.html
RewriteEngine On

# Canonicalize /index or /index.html to /
RewriteRule ^index(?:\.html)?$ / [R=301,L,NC]

# Redirect explicit .html requests to extensionless URLs.
RewriteCond %{THE_REQUEST} \s/+([^\s?]+)\.html(?:[\s?]|$) [NC]
RewriteRule ^ /%1 [R=301,L]

# Serve extensionless URLs from matching .html files when they exist.
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{DOCUMENT_ROOT}/$1.html -f
RewriteRule ^(.+?)/?$ /$1.html [L]
