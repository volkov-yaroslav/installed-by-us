Options -MultiViews
RewriteEngine On

# 1) Redirect explicit .html requests to extensionless URL
RewriteCond %{THE_REQUEST} \s/+([^\s?]+)\.html(?:[\s?]|$) [NC]
RewriteRule ^ /%1 [R=301,L]

# 2) Serve /page from /page.html (if file exists)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{DOCUMENT_ROOT}/$1.html -f
RewriteRule ^(.+?)/?$ /$1.html [L]
